<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Âú®Á∫øÊ∏∏ÊàèÂπ≥Âè∞</title>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-02KTJL17PR"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-02KTJL17PR');
    </script>
    
    <!-- Plausible Analytics -->
    <script defer data-domain="redcomet.online" src="https://plausible.io/js/script.outbound-links.js"></script>
    <script>window.plausible = window.plausible || function() { (window.plausible.q = window.plausible.q || []).push(arguments) }</script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .filter-section {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .filter-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }
        
        .filter-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 25px;
            background: #667eea;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }
        
        .filter-btn:hover, .filter-btn.active {
            background: #764ba2;
            transform: translateY(-2px);
            box-shadow: 0 5px 10px rgba(0,0,0,0.2);
        }
        
        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .game-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .game-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }
        
        .game-header {
            padding: 15px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
        }
        
        .game-title {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .game-category {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 0.8em;
            text-transform: uppercase;
        }
        
        .game-preview {
            height: 250px;
            position: relative;
            background: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .play-button {
            background: #667eea;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .play-button:hover {
            background: #764ba2;
            transform: scale(1.05);
        }
        
        .game-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            padding: 20px;
        }
        
        .modal-content {
            background: white;
            width: 100%;
            height: 100%;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            position: relative;
        }
        
        .modal-header {
            padding: 15px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            padding: 5px;
        }
        
        .game-frame {
            flex: 1;
            border: none;
            width: 100%;
        }
        
        .stats {
            background: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .stats h3 {
            color: #667eea;
            margin-bottom: 10px;
        }
        
        @media (max-width: 768px) {
            .games-grid {
                grid-template-columns: 1fr;
            }
            
            .filter-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .filter-btn {
                width: 200px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéÆ Âú®Á∫øÊ∏∏ÊàèÂπ≥Âè∞</h1>
            <p>Á≤æÈÄâ‰ºòË¥®Ê∏∏ÊàèÔºåÂç≥ÁÇπÂç≥Áé©</p>
        </div>
        
        <div class="filter-section">
            <div class="filter-buttons">
                <button class="filter-btn active" data-category="all">ÂÖ®ÈÉ®Ê∏∏Êàè</button>
                <button class="filter-btn" data-category="causal">‰ºëÈó≤Ê∏∏Êàè</button>
                <button class="filter-btn" data-category="shooting">Â∞ÑÂáªÊ∏∏Êàè</button>
                <button class="filter-btn" data-category="driving">È©æÈ©∂Ê∏∏Êàè</button>
                <button class="filter-btn" data-category="beauty">ÁæéÂ¶ÜÊ∏∏Êàè</button>
            </div>
        </div>
        
        <div class="games-grid" id="gamesGrid">
            <!-- Ê∏∏ÊàèÂç°ÁâáÂ∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÁîüÊàê -->
        </div>
        
        <div class="stats">
            <h3>Ê∏∏ÊàèÁªüËÆ°</h3>
            <p>ÊÄªÊ∏∏ÊàèÊï∞: <span id="totalGames">10</span> | ‰ªäÊó•Ê∏∏Áé©Ê¨°Êï∞: <span id="playCount">0</span></p>
        </div>
    </div>
    
    <!-- Ê∏∏ÊàèÊ®°ÊÄÅÊ°Ü -->
    <div class="game-modal" id="gameModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">Ê∏∏ÊàèÊ†áÈ¢ò</h2>
                <button class="close-btn" onclick="closeGame()">&times;</button>
            </div>
            <iframe class="game-frame" id="gameFrame" src=""></iframe>
        </div>
    </div>
    
    <script>
        // Ê∏∏ÊàèÊï∞ÊçÆ
        const games = [
            {
                id: 1,
                name: "Gaz to the Moon",
                iframe: "https://www.crazygames.com/embed/gaz-to-the-moon",
                category: "causal"
            },
            {
                id: 2,
                name: "Fortzone Battle Royale",
                iframe: "https://www.crazygames.com/embed/fortzone-battle-royale-xkd",
                category: "shooting"
            },
            {
                id: 3,
                name: "Slice Master",
                iframe: "https://www.crazygames.com/embed/slice-master",
                category: "causal"
            },
            {
                id: 4,
                name: "Count Masters: Stickman Games",
                iframe: "https://www.crazygames.com/embed/count-masters-stickman-games",
                category: "causal"
            },
            {
                id: 5,
                name: "Supermarket Simulator: Store Manager",
                iframe: "https://www.crazygames.com/embed/supermarket-simulator-cashier-game",
                category: "causal"
            },
            {
                id: 6,
                name: "Dalgona Candy",
                iframe: "https://www.crazygames.com/embed/dalgona-candy-honeycomb-cookie-kam",
                category: "causal"
            },
            {
                id: 7,
                name: "Night City Racing",
                iframe: "https://www.crazygames.com/embed/night-city-racing",
                category: "driving"
            },
            {
                id: 8,
                name: "Bus Driver",
                iframe: "https://www.crazygames.com/embed/city-bus-driver",
                category: "driving"
            },
            {
                id: 9,
                name: "Granny's Return",
                iframe: "https://www.crazygames.com/embed/bad-cat---granny-s-return",
                category: "causal"
            },
            {
                id: 10,
                name: "Mean Girls Graduation Day",
                iframe: "https://www.crazygames.com/embed/mean-girls-graduation-day",
                category: "beauty"
            }
        ];
        
        let currentFilter = 'all';
        let playCount = parseInt(localStorage.getItem('playCount')) || 0;
        
        // Êõ¥Êñ∞Ê∏∏Áé©Ê¨°Êï∞ÊòæÁ§∫
        document.getElementById('playCount').textContent = playCount;
        
        // Ê∏≤ÊüìÊ∏∏ÊàèÁΩëÊ†º
        function renderGames(gamesToShow = games) {
            const gamesGrid = document.getElementById('gamesGrid');
            
            gamesGrid.innerHTML = gamesToShow.map(game => `
                <div class="game-card" data-category="${game.category}">
                    <div class="game-header">
                        <div class="game-title">${game.name}</div>
                        <span class="game-category">${getCategoryName(game.category)}</span>
                    </div>
                    <div class="game-preview">
                        <button class="play-button" onclick="playGame(${game.id}, '${game.name}', '${game.iframe}')">
                            ‚ñ∂ ÂºÄÂßãÊ∏∏Êàè
                        </button>
                    </div>
                </div>
            `).join('');
        }
        
        // Ëé∑ÂèñÂàÜÁ±ª‰∏≠ÊñáÂêç
        function getCategoryName(category) {
            const categoryNames = {
                'causal': '‰ºëÈó≤',
                'shooting': 'Â∞ÑÂáª',
                'driving': 'È©æÈ©∂',
                'beauty': 'ÁæéÂ¶Ü'
            };
            return categoryNames[category] || category;
        }
        
        // Á≠õÈÄâÊ∏∏Êàè
        function filterGames(category) {
            currentFilter = category;
            const filteredGames = category === 'all' ? games : games.filter(game => game.category === category);
            renderGames(filteredGames);
            
            // Êõ¥Êñ∞ÊåâÈíÆÁä∂ÊÄÅ
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-category="${category}"]`).classList.add('active');
            
            // ÂèëÈÄÅÁ≠õÈÄâ‰∫ã‰ª∂Âà∞Google Analytics
            if (typeof gtag !== 'undefined') {
                gtag('event', 'game_filter', {
                    'event_category': 'Games',
                    'event_label': category,
                    'value': 1
                });
            }
            
            // ÂèëÈÄÅÁ≠õÈÄâ‰∫ã‰ª∂Âà∞Plausible
            if (window.plausible) {
                window.plausible('Game Filter', {props: {category: category}});
            }
        }
        
        // Êí≠ÊîæÊ∏∏Êàè
        function playGame(gameId, gameName, gameUrl) {
            const modal = document.getElementById('gameModal');
            const modalTitle = document.getElementById('modalTitle');
            const gameFrame = document.getElementById('gameFrame');
            
            modalTitle.textContent = gameName;
            gameFrame.src = gameUrl;
            modal.style.display = 'block';
            
            // Â¢ûÂä†Ê∏∏Áé©Ê¨°Êï∞
            playCount++;
            localStorage.setItem('playCount', playCount);
            document.getElementById('playCount').textContent = playCount;
            
            // ÂèëÈÄÅÊ∏∏ÊàèÂºÄÂßã‰∫ã‰ª∂Âà∞Google Analytics
            if (typeof gtag !== 'undefined') {
                gtag('event', 'game_start', {
                    'event_category': 'Games',
                    'event_label': gameName,
                    'game_id': gameId,
                    'value': 1
                });
            }
            
            // ÂèëÈÄÅÊ∏∏ÊàèÂºÄÂßã‰∫ã‰ª∂Âà∞Plausible
            if (window.plausible) {
                window.plausible('Game Play', {props: {game: gameName, gameId: gameId}});
            }
            
            // ÈòªÊ≠¢È°µÈù¢ÊªöÂä®
            document.body.style.overflow = 'hidden';
        }
        
        // ÂÖ≥Èó≠Ê∏∏Êàè
        function closeGame() {
            const modal = document.getElementById('gameModal');
            const gameFrame = document.getElementById('gameFrame');
            const currentGameName = document.getElementById('modalTitle').textContent;
            
            modal.style.display = 'none';
            gameFrame.src = '';
            
            // ÊÅ¢Â§çÈ°µÈù¢ÊªöÂä®
            document.body.style.overflow = 'auto';
            
            // ÂèëÈÄÅÊ∏∏ÊàèÂÖ≥Èó≠‰∫ã‰ª∂Âà∞Google Analytics
            if (typeof gtag !== 'undefined') {
                gtag('event', 'game_close', {
                    'event_category': 'Games',
                    'event_label': currentGameName,
                    'value': 1
                });
            }
            
            // ÂèëÈÄÅÊ∏∏ÊàèÂÖ≥Èó≠‰∫ã‰ª∂Âà∞Plausible
            if (window.plausible) {
                window.plausible('Game Close');
            }
        }
        
        // Ê∑ªÂä†Á≠õÈÄâÊåâÈíÆ‰∫ã‰ª∂ÁõëÂê¨
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                filterGames(btn.dataset.category);
            });
        });
        
        // ESCÈîÆÂÖ≥Èó≠Ê∏∏Êàè
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeGame();
            }
        });
        
        // ÁÇπÂáªÊ®°ÊÄÅÊ°ÜËÉåÊôØÂÖ≥Èó≠Ê∏∏Êàè
        document.getElementById('gameModal').addEventListener('click', (e) => {
            if (e.target.id === 'gameModal') {
                closeGame();
            }
        });
        
        // È°µÈù¢Âä†ËΩΩÊó∂ÂàùÂßãÂåñ
        window.addEventListener('load', () => {
            renderGames();
            
            // ÂèëÈÄÅÈ°µÈù¢ËÆøÈóÆ‰∫ã‰ª∂Âà∞Google Analytics
            if (typeof gtag !== 'undefined') {
                gtag('event', 'page_view', {
                    'event_category': 'Engagement',
                    'event_label': 'Games Page',
                    'value': 1
                });
            }
            
            // ÂèëÈÄÅÈ°µÈù¢ËÆøÈóÆ‰∫ã‰ª∂Âà∞Plausible
            if (window.plausible) {
                window.plausible('pageview');
            }
        });
        
        // È°µÈù¢Á¶ªÂºÄÊó∂ÂèëÈÄÅ‰∫ã‰ª∂
        window.addEventListener('beforeunload', () => {
            // ÂèëÈÄÅÈ°µÈù¢Á¶ªÂºÄ‰∫ã‰ª∂Âà∞Google Analytics
            if (typeof gtag !== 'undefined') {
                gtag('event', 'page_leave', {
                    'event_category': 'Engagement',
                    'event_label': 'Games Page',
                    'play_count': playCount,
                    'value': 1
                });
            }
            
            if (window.plausible) {
                window.plausible('Page Leave', {props: {playCount: playCount}});
            }
        });
    </script>
</body>
</html>
